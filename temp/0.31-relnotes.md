Hugo `0.31` is the **Multihost Multilingual Edition**.

> <img src="https://esolia.com/img/eSolia-Logo-Flat-2015.svg" alt="eSolia" width="100px" align="top" />The Multihost feature is sponsored by [eSolia](https://esolia.com/) 

This release represents **44 contributions by 7 contributors** to the main Hugo code base.
[@bep](https://github.com/bep) leads the Hugo development with a significant amount of contributions, but also a big shoutout to [@kaushalmodi](https://github.com/kaushalmodi), [@natefinch](https://github.com/natefinch), and [@betaveros](https://github.com/betaveros) for their ongoing contributions.
And as always a big thanks to [@digitalcraftsman](https://github.com/digitalcraftsman) for his relentless work on keeping the documentation and the themes site in pristine condition.

Many have also been busy writing and fixing the documentation in [hugoDocs](https://github.com/gohugoio/hugoDocs), 
which has received **13 contributions by 9 contributors**. A special thanks to [@oncletom](https://github.com/oncletom), [@kaushalmodi](https://github.com/kaushalmodi), [@XhmikosR](https://github.com/XhmikosR), and [@digitalcraftsman](https://github.com/digitalcraftsman) for their work on the documentation site.


Hugo now has:

* 21105+ [stars](https://github.com/gohugoio/hugo/stargazers)
* 455+ [contributors](https://github.com/gohugoio/hugo/graphs/contributors)
* 184+ [themes](http://themes.gohugo.io/)

## Notes

* For mapping of translated content, Hugo now also consider the full path of the content file, which makes it possible with translation of duplicate content filenames such as `index.md`. A specific translation key can also be specified with the new `translationKey` front matter variable. See [#2699](https://github.com/gohugoio/hugo/issues/2699).


## Enhancements

### Templates

* Refactor `Mod` with `cast` [76dc811c](https://github.com/gohugoio/hugo/commit/76dc811c6539b2ed8b4d3b22693e5088b9f6ecfe) [@artem-sidorenko](https://github.com/artem-sidorenko) 
* Make partial benchmarks use `RunParallel` [7730d683](https://github.com/gohugoio/hugo/commit/7730d683e8b030c64c5f986b8166c8e65b777ab3) [@bep](https://github.com/bep) [#4086](https://github.com/gohugoio/hugo/issues/4086)


### Core

* Pre-allocate some slices [a9be687b](https://github.com/gohugoio/hugo/commit/a9be687b81df01c7343f78f0d3760042f467baa4) [@bep](https://github.com/bep) 
* Add some more taxonomy permalinks test cases [764f1304](https://github.com/gohugoio/hugo/commit/764f1304e1383ae03c2eb07cf599774700816465) [@bep](https://github.com/bep) [#1208](https://github.com/gohugoio/hugo/issues/1208)

### Other

* Add support for multiple staticDirs [60dfb9a6](https://github.com/gohugoio/hugo/commit/60dfb9a6e076200ab3ca3fd30e34bb3c14e0a893) [@bep](https://github.com/bep) [#36](https://github.com/gohugoio/hugo/issues/36)[#4027](https://github.com/gohugoio/hugo/issues/4027)
* Add multilingual multihost support [2e046576](https://github.com/gohugoio/hugo/commit/2e0465764b5dacc511b977b1c9aa07324ad0ee9c) [@bep](https://github.com/bep) [#4027](https://github.com/gohugoio/hugo/issues/4027)
* Use ms precision for static change logging [bb048d81](https://github.com/gohugoio/hugo/commit/bb048d811d3977adb10656335cd339cd8c945a25) [@bep](https://github.com/bep) 
* Update Chroma to get the latest SASS lexer [b32ffed6](https://github.com/gohugoio/hugo/commit/b32ffed6abc67646cad89e163846f3ffef29cec8) [@bep](https://github.com/bep) [#4069](https://github.com/gohugoio/hugo/issues/4069)
* Bump to Go 1.9.2 [9299a16c](https://github.com/gohugoio/hugo/commit/9299a16c9952a284d3ac3f31d2662f1812f77768) [@bep](https://github.com/bep) [#4064](https://github.com/gohugoio/hugo/issues/4064)
* Update Travis and snapcraft to Go 1.9.2 [77cbd001](https://github.com/gohugoio/hugo/commit/77cbd001ff6b2e0aaa48566ef2af49ca68e19af9) [@bep](https://github.com/bep) [#4064](https://github.com/gohugoio/hugo/issues/4064)
* Handle Taxonomy permalinks [d9a78b61](https://github.com/gohugoio/hugo/commit/d9a78b61adefe8e1803529f4774185874af85148) [@betaveros](https://github.com/betaveros) [#1208](https://github.com/gohugoio/hugo/issues/1208)
* Support unknown language codes [23ba779f](https://github.com/gohugoio/hugo/commit/23ba779fab90ce45cddd68b4f49a2515ce6d4878) [@bep](https://github.com/bep) [#3564](https://github.com/gohugoio/hugo/issues/3564)
* Prevent data race in lang code handling [c97216e4](https://github.com/gohugoio/hugo/commit/c97216e4f0f3021b12cd3803e512393be569c886) [@bep](https://github.com/bep) [#3564](https://github.com/gohugoio/hugo/issues/3564)
* Allow custom language codes [bb04010c](https://github.com/gohugoio/hugo/commit/bb04010cbfd92837685f98c3e0f5362ba00ce487) [@kevingimbel](https://github.com/kevingimbel) [#3564](https://github.com/gohugoio/hugo/issues/3564)
* Add support for height argument to figure shortcode [488631fe](https://github.com/gohugoio/hugo/commit/488631fe0abc3667355345c7eb98ba7a2204deb5) [@kaushalmodi](https://github.com/kaushalmodi) [#4014](https://github.com/gohugoio/hugo/issues/4014)
* Add linebreak to README.md for better readability [fdd62eb4](https://github.com/gohugoio/hugo/commit/fdd62eb4c3dab9229ae4b7aeae45832961f6e168) [@scrowten](https://github.com/scrowten) 
* Update toml dependency revision in Gopkg.lock too [b6f2e3b4](https://github.com/gohugoio/hugo/commit/b6f2e3b4382de83479bfcf91321b7ee3a758b141) [@kaushalmodi](https://github.com/kaushalmodi) 
* Update toml dep to fetch its latest master branch instead of v0.3.0 [c61998d3](https://github.com/gohugoio/hugo/commit/c61998d3ac2e9c2756ba72d2e7381638cbe01a1f) [@kaushalmodi](https://github.com/kaushalmodi) [#3998](https://github.com/gohugoio/hugo/issues/3998)
* Lock mage to v1 [45ad8ac3](https://github.com/gohugoio/hugo/commit/45ad8ac381ab71aec6f62bc0842934b8bdecd9d7) [@bep](https://github.com/bep) [#3997](https://github.com/gohugoio/hugo/issues/3997)
* Skip Check on Go 1.8 [133cfd17](https://github.com/gohugoio/hugo/commit/133cfd1710f2558b93444e0b3866010b5fba21c7) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Gopk.toml cleanup [db1a5af1](https://github.com/gohugoio/hugo/commit/db1a5af15db75dbdf64697c5c31d919bac3acc41) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Update Dockerfile and Snap build to reflect move to dep [9ccc958c](https://github.com/gohugoio/hugo/commit/9ccc958ce7d563fe344c310da37284548ac3a70a) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Update CONTRIBUTING to reflect Go Dep [30e471b8](https://github.com/gohugoio/hugo/commit/30e471b8c66f43b2505ba4a303b5cacb4a5f3af3) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Update magefile to use Go Dep [f711b170](https://github.com/gohugoio/hugo/commit/f711b170e4bb286ffa544dfdb48cff4e8f74497f) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Adjust some deps versions [9536f7cd](https://github.com/gohugoio/hugo/commit/9536f7cd05c745cff51d23de696d92c3ae4bcfa9) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Run dep init [1ac47cd8](https://github.com/gohugoio/hugo/commit/1ac47cd88a52e9789c2ab2c72aa8c50ad3a828c3) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* Remove to prepare for dep [ba0b22ef](https://github.com/gohugoio/hugo/commit/ba0b22ef4491fa70b9f4fc9b091a5192a7eed59f) [@bep](https://github.com/bep) [#3988](https://github.com/gohugoio/hugo/issues/3988)
* 0.30.2 Release [6faf47e8](https://github.com/gohugoio/hugo/commit/6faf47e8ddf7b2922ddfcaf13b2ad0cedd1edfec) [@bep](https://github.com/bep) 
* Support Fast Render mode with sub-path in baseURL [31641033](https://github.com/gohugoio/hugo/commit/3164103310fbca1211cfa9ce4a5eb7437854b6ad) [@bep](https://github.com/bep) [#3981](https://github.com/gohugoio/hugo/issues/3981)
* Release 0.30.1 [35be07f7](https://github.com/gohugoio/hugo/commit/35be07f7c88f1a263500bcaf1a4ef8ef4dffaf9a) [@bep](https://github.com/bep) 
* Must go get mage [89641625](https://github.com/gohugoio/hugo/commit/89641625732bf811079aa2f039720922b9548f96) [@bep](https://github.com/bep) 
* Bump Snap to go1.9.1 [d2b3f00d](https://github.com/gohugoio/hugo/commit/d2b3f00df7cd601b0eed35d2594e016108765456) [@bep](https://github.com/bep) 
* Simplify Site benchmarks [c3c10f2c](https://github.com/gohugoio/hugo/commit/c3c10f2c7ce4ee11186f51161943efc8b37a28c9) [@bep](https://github.com/bep) 

## Fixes

### Templates

* Fix the lock contention in cached partial [6233ddf9](https://github.com/gohugoio/hugo/commit/6233ddf9d19b51f69c0c4a796d88732d1700e585) [@bep](https://github.com/bep) [#4086](https://github.com/gohugoio/hugo/issues/4086)
* Fix cache locking [f5ed04bd](https://github.com/gohugoio/hugo/commit/f5ed04bd4a2ba1a62482b381470f04aad98375f5) [@bep](https://github.com/bep) 

### Output

* Fall back to unstranslated base template [0a81a6b4](https://github.com/gohugoio/hugo/commit/0a81a6b4bae3de53aa9c179b855c671a2d30eec7) [@bep](https://github.com/bep) [#3893](https://github.com/gohugoio/hugo/issues/3893)

### Core

* Fix .IsTranslated  with identical filenames [b3daa1f4](https://github.com/gohugoio/hugo/commit/b3daa1f4bf1b84bcc5da028257ba609be74e3ecc) [@bep](https://github.com/bep) [#2699](https://github.com/gohugoio/hugo/issues/2699)

### Other

* Fix recently broken window.location.reload logic [d99db71a](https://github.com/gohugoio/hugo/commit/d99db71ab5a90246dce729ca802e4cd88b01ba3c) [@bep](https://github.com/bep) [#4100](https://github.com/gohugoio/hugo/issues/4100)
* Fix broken shortcodes for Ace and Amber [503ca6de](https://github.com/gohugoio/hugo/commit/503ca6de6ceb0b4af533f9efeff917d6f3871278) [@bep](https://github.com/bep) [#4051](https://github.com/gohugoio/hugo/issues/4051)
* Fix error handling in mage build [c9c19d79](https://github.com/gohugoio/hugo/commit/c9c19d794537cf76ff281788c3d6cf5f2beac54d) [@natefinch](https://github.com/natefinch) 
* Fix hugo -w [fa53b13c](https://github.com/gohugoio/hugo/commit/fa53b13ca0ffb1db6ed20f5353661d3f8a5fd455) [@bep](https://github.com/bep) [#3980](https://github.com/gohugoio/hugo/issues/3980)
* Fix mage vs make issues [ad5ef438](https://github.com/gohugoio/hugo/commit/ad5ef438380d6ecba93b9b01a7893d450f652f72) [@bep](https://github.com/bep) [#3969](https://github.com/gohugoio/hugo/issues/3969)





